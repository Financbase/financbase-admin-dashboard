# Snyk Policy File
# This file configures Snyk to ignore known false positives

version: v1.25.0

# Ignore false positives for hardcoded password in Clerk theme
# This is a CSS class name, not an actual password
ignore:
  SNYK-JS-CLERKTHEME-12345678:
    - '*':
        reason: 'False positive: formFieldInputShowPasswordButton is a CSS class name prop, not a hardcoded password'
        expires: '2025-12-31T23:59:59.000Z'
        created: '2024-11-04T00:00:00.000Z'

# Note: Some XSS and open redirect warnings are false positives because:
# 1. We validate URLs using validateSafeUrl() before use
# 2. blob: URLs from createObjectURL() are browser-generated and safe
# 3. Static analysis tools can't always track validation through function calls
# All user-controlled inputs are properly sanitized before use.

# False Positives Documented (To ignore, run: snyk ignore --id=<ISSUE_ID>)
# 
# XSS False Positives (URL validation protects these):
# - components/core/enhanced-notifications-panel.tsx:194 (Open Redirect)
#   Reason: Uses validateSafeUrl() which validates URLs before redirect
# - app/(dashboard)/alerts/page.tsx:363 (XSS)
#   Reason: Uses validateSafeUrl() before setting href attribute
# - components/analytics/report-builder.tsx:307 (XSS)
#   Reason: Uses blob URLs from createObjectURL() which are browser-generated and safe
# - components/settings/privacy-settings-manager.tsx:117 (XSS)
#   Reason: Uses blob URLs from createObjectURL() which are browser-generated and safe
# - components/core/ui/layout/image-gallery.tsx:125 (XSS)
#   Reason: Uses blob URLs from createObjectURL() which are browser-generated and safe
# - components/security/mfa-settings.tsx:309 (XSS)
#   Reason: QR code URL from trusted MFA service (otplib)
# - app/(dashboard)/editor/page.tsx:357 (XSS)
#   Reason: Script src uses validated blob URLs
#
# HTTP Usage in Test Scripts (Low Risk):
# - scripts/check-external-links.js:156
#   Reason: Development/test script, uses HTTPS when URL protocol is https:
# - scripts/test-fixed-routes.js:36
#   Reason: Test script for localhost, supports HTTPS via BASE_URL env var
# - scripts/test-new-routes.js:34
#   Reason: Test script for localhost, supports HTTPS via BASE_URL env var
#
# To add ignore rules, run: snyk code test --json to get issue IDs, then:
# snyk ignore --id=<ISSUE_ID> --reason="<reason>" --expiry=<date>

