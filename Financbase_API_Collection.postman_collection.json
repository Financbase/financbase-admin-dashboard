{
  "info": {
    "name": "Financbase API Collection",
    "description": "Complete collection of Financbase API endpoints for financial management, AI services, and collaboration features",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{clerk_session_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3010/api",
      "type": "string"
    },
    {
      "key": "clerk_session_token",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "item": [
        {
          "name": "System Health",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Get system health status and service availability"
          }
        }
      ]
    },
    {
      "name": "AI Services",
      "item": [
        {
          "name": "Financial Analysis",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"revenue\": [45000, 52000, 48000, 55000],\n  \"expenses\": [32000, 35000, 31000, 36000],\n  \"transactions\": [\n    {\n      \"id\": \"txn_123\",\n      \"description\": \"Office supplies purchase\",\n      \"amount\": 1250,\n      \"category\": \"office_expenses\",\n      \"date\": \"2024-01-15\"\n    }\n  ],\n  \"budget\": {\n    \"total\": 60000,\n    \"categories\": [\n      {\n        \"name\": \"Marketing\",\n        \"budgeted\": 15000,\n        \"spent\": 12000\n      },\n      {\n        \"name\": \"Operations\",\n        \"budgeted\": 25000,\n        \"spent\": 22000\n      }\n    ]\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/ai/financial-analysis",
              "host": ["{{baseUrl}}"],
              "path": ["ai", "financial-analysis"]
            },
            "description": "Analyze financial data and provide AI-powered insights"
          }
        },
        {
          "name": "Transaction Categorization",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Amazon Web Services monthly hosting fee\",\n  \"amount\": 299.99,\n  \"type\": \"expense\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/ai/categorize",
              "host": ["{{baseUrl}}"],
              "path": ["ai", "categorize"]
            },
            "description": "Categorize a transaction using AI"
          }
        }
      ]
    },
    {
      "name": "Search Services",
      "item": [
        {
          "name": "Universal Search",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/search?q=office supplies&index=invoices&page=0&hitsPerPage=10",
              "host": ["{{baseUrl}}"],
              "path": ["search"],
              "query": [
                {
                  "key": "q",
                  "value": "office supplies"
                },
                {
                  "key": "index",
                  "value": "invoices"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "hitsPerPage",
                  "value": "10"
                }
              ]
            },
            "description": "Search across all financial data"
          }
        },
        {
          "name": "Search Suggestions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/search/suggestions?q=off&index=products",
              "host": ["{{baseUrl}}"],
              "path": ["search", "suggestions"],
              "query": [
                {
                  "key": "q",
                  "value": "off"
                },
                {
                  "key": "index",
                  "value": "products"
                }
              ]
            },
            "description": "Get search suggestions/autocomplete"
          }
        }
      ]
    },
    {
      "name": "File Upload",
      "item": [
        {
          "name": "Upload File",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "description": "Select file to upload (PDF, DOC, XLS, Images)"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/uploadthing",
              "host": ["{{baseUrl}}"],
              "path": ["uploadthing"]
            },
            "description": "Upload files using UploadThing service"
          }
        }
      ]
    },
    {
      "name": "Email Services",
      "item": [
        {
          "name": "Send Invoice Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"clientEmail\": \"client@example.com\",\n  \"invoiceData\": {\n    \"invoiceNumber\": \"INV-2024-001\",\n    \"amount\": 2500.00,\n    \"dueDate\": \"2024-02-15\",\n    \"description\": \"Monthly consulting services\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/email/send-invoice",
              "host": ["{{baseUrl}}"],
              "path": ["email", "send-invoice"]
            },
            "description": "Send a professional invoice email to a client"
          }
        }
      ]
    },
    {
      "name": "Bills Management",
      "item": [
        {
          "name": "Get Bills",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/bills?status=pending_approval&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["bills"],
              "query": [
                {
                  "key": "status",
                  "value": "pending_approval"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Get list of bills with optional filtering"
          }
        },
        {
          "name": "Create Bill",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vendorId\": \"vendor-uuid-here\",\n  \"amount\": 1500.00,\n  \"currency\": \"USD\",\n  \"dueDate\": \"2024-02-15T00:00:00Z\",\n  \"issueDate\": \"2024-01-15T00:00:00Z\",\n  \"invoiceNumber\": \"INV-2024-001\",\n  \"description\": \"Monthly software license\",\n  \"category\": \"software\",\n  \"priority\": \"normal\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bills",
              "host": ["{{baseUrl}}"],
              "path": ["bills"]
            },
            "description": "Create a new bill"
          }
        }
      ]
    },
    {
      "name": "Vendors Management",
      "item": [
        {
          "name": "Get Vendors",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/vendors?status=active&category=software",
              "host": ["{{baseUrl}}"],
              "path": ["vendors"],
              "query": [
                {
                  "key": "status",
                  "value": "active"
                },
                {
                  "key": "category",
                  "value": "software"
                }
              ]
            },
            "description": "Get list of vendors with optional filtering"
          }
        },
        {
          "name": "Create Vendor",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Acme Software Inc.\",\n  \"email\": \"billing@acmesoft.com\",\n  \"phone\": \"+1-555-0123\",\n  \"address\": {\n    \"street\": \"123 Tech Street\",\n    \"city\": \"San Francisco\",\n    \"state\": \"CA\",\n    \"zipCode\": \"94105\",\n    \"country\": \"USA\"\n  },\n  \"taxId\": \"12-3456789\",\n  \"paymentTerms\": 30,\n  \"category\": \"software\",\n  \"paymentMethods\": [\n    {\n      \"type\": \"bank_account\",\n      \"details\": {\n        \"accountNumber\": \"****1234\",\n        \"routingNumber\": \"123456789\"\n      }\n    }\n  ],\n  \"autoPay\": false,\n  \"approvalRequired\": true,\n  \"approvalThreshold\": 1000\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/vendors",
              "host": ["{{baseUrl}}"],
              "path": ["vendors"]
            },
            "description": "Create a new vendor"
          }
        }
      ]
    },
    {
      "name": "Approval Workflows",
      "item": [
        {
          "name": "Get Approval Workflows",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/approval-workflows",
              "host": ["{{baseUrl}}"],
              "path": ["approval-workflows"]
            },
            "description": "Get list of approval workflows"
          }
        },
        {
          "name": "Create Approval Workflow",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"High Value Purchase Approval\",\n  \"description\": \"Approval workflow for purchases over $1000\",\n  \"amountThreshold\": 1000,\n  \"vendorCategories\": [\"software\", \"equipment\"],\n  \"steps\": [\n    {\n      \"name\": \"Manager Review\",\n      \"type\": \"role\",\n      \"role\": \"manager\",\n      \"order\": 1\n    },\n    {\n      \"name\": \"Finance Approval\",\n      \"type\": \"role\",\n      \"role\": \"finance\",\n      \"order\": 2\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/approval-workflows",
              "host": ["{{baseUrl}}"],
              "path": ["approval-workflows"]
            },
            "description": "Create a new approval workflow"
          }
        },
        {
          "name": "Process Approval Decision",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"decision\": \"approve\",\n  \"comments\": \"Approved for business critical software\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/approvals/{{approval_id}}/decide",
              "host": ["{{baseUrl}}"],
              "path": ["approvals", "{{approval_id}}", "decide"]
            },
            "description": "Process an approval decision (approve/reject)"
          }
        }
      ]
    },
    {
      "name": "OCR Processing",
      "item": [
        {
          "name": "Process Document",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "description": "Select PDF or image file to process"
                },
                {
                  "key": "documentType",
                  "value": "invoice",
                  "type": "text",
                  "description": "Type of document (invoice, receipt, bill, statement)"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/bills/process-document",
              "host": ["{{baseUrl}}"],
              "path": ["bills", "process-document"]
            },
            "description": "Process document with AI-powered OCR and data extraction"
          }
        }
      ]
    },
    {
      "name": "Payment Processing",
      "item": [
        {
          "name": "Schedule Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paymentMethod\": \"bank_account\",\n  \"scheduledDate\": \"2024-02-15T00:00:00Z\",\n  \"amount\": 1500.00,\n  \"notes\": \"Monthly software license payment\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bills/{{bill_id}}/schedule-payment",
              "host": ["{{baseUrl}}"],
              "path": ["bills", "{{bill_id}}", "schedule-payment"]
            },
            "description": "Schedule a payment for a bill"
          }
        },
        {
          "name": "Process Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paymentMethod\": \"bank_account\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bills/{{bill_id}}/process-payment",
              "host": ["{{baseUrl}}"],
              "path": ["bills", "{{bill_id}}", "process-payment"]
            },
            "description": "Process an immediate payment for a bill"
          }
        }
      ]
    },
    {
      "name": "Real-time Collaboration",
      "item": [
        {
          "name": "Connect to Workspace (WebSocket)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{clerk_session_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/collaboration/ws",
              "host": ["{{baseUrl}}"],
              "path": ["collaboration", "ws"]
            },
            "description": "WebSocket endpoint for real-time collaboration features"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// WebSocket connection test",
                  "pm.test(\"WebSocket connection established\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([101, 200]);",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Set default base URL if not set",
          "if (!pm.variables.get(\"baseUrl\")) {",
          "    pm.variables.set(\"baseUrl\", \"http://localhost:3000/api\");",
          "}",
          "",
          "// Add timestamp to requests to avoid caching",
          "pm.variables.set(\"timestamp\", new Date().getTime());"
        ]
      }
    }
  ]
}
